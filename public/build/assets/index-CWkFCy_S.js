import{c as xe,r as i,j as t,H as he}from"./app-BuL0pVBZ.js";import{A as ge}from"./app-layout-BWET_gkI.js";import{r as a}from"./index-Berc4nBE.js";import{columns as je}from"./column-D0drc5YL.js";import{D as _e}from"./data-table-D_a-RFtL.js";import{B as oe}from"./button-CYInUA14.js";import{I as te}from"./input-DTP9jYLr.js";import{S as re,a as le,c as se,b as l,d as ae}from"./select-DVD9XoAa.js";import{StatisticsCards as Se}from"./statistics-cards-DQLcp8jP.js";import{TopViolators as ve}from"./top-violators-173HnIPC.js";import{T as ye}from"./trash-2-Ba8-XvY2.js";/* empty css            */import"./dialog-Cufq_Hwj.js";import"./index-CGON9Ul4.js";import"./index-7uOuBa2-.js";import"./utils-D0Zg16Wk.js";import"./index-CTRF259D.js";import"./index-ChPVmC4z.js";import"./createLucideIcon-DK5M6DL3.js";import"./index-DA_4OTiw.js";import"./index-CMWG4mbA.js";import"./loader-circle-sAi0isxQ.js";import"./triangle-alert-BoZ0EEr2.js";import"./index-G4su6LET.js";import"./index-D_6DkZ-z.js";import"./index-SgXJPSr3.js";import"./dropdown-menu-D5feTYmh.js";import"./app-logo-icon-DpMaauQJ.js";import"./index-ktf0LBql.js";import"./index-Dl971_eZ.js";import"./index-e2wK645T.js";import"./index-BoBIKhFC.js";import"./index-CHMuBPDS.js";import"./index-YRM6KelB.js";import"./index-DD7xzozJ.js";import"./index-5DEnLWxd.js";import"./index-Dxe8xGNM.js";import"./index-BDUTvIu5.js";import"./index-CTMqsj9F.js";import"./shield-aHDpR4H3.js";import"./mail-BCti2wNx.js";import"./dayjs.min-XX-0z4Zn.js";import"./relativeTime-CPppplC_.js";import"./badge-8L__yrnq.js";import"./arrow-up-ByAyNCsC.js";import"./index-CvbAwHMG.js";import"./check-z6KLQ33W.js";import"./card-DpIz3S2U.js";import"./clock-CuIKVmd9.js";const be=[{title:"Rate Limit Monitoring",href:a.index().url}];function _t(ie){const e=xe.c(60),{logs:o,statistics:v,filters:q}=ie;let y;e[0]!==q?(y=q??{},e[0]=q,e[1]=y):y=e[1];const s=y;let b;e[2]!==s.per_page||e[3]!==o?(b=function(r){r.preventDefault();const ee=new FormData(r.currentTarget),de=String(ee.get("search")??"");i.get(a.index.url({mergeQuery:{search:de,page:1,per_page:s.per_page??o.per_page}}),{},{preserveScroll:!0,preserveState:!0})},e[2]=s.per_page,e[3]=o,e[4]=b):b=e[4];const z=b;let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=function(r){const ee=Number(r)||25;i.get(a.index.url({mergeQuery:{per_page:ee,page:1}}),{},{preserveScroll:!0,preserveState:!0})},e[5]=N):N=e[5];const ne=N;let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=function(r){i.get(a.index.url({mergeQuery:{severity:r==="all"?void 0:r,page:1}}),{},{preserveScroll:!0,preserveState:!0})},e[6]=C):C=e[6];const me=C;let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=function(r){i.get(a.index.url({mergeQuery:{auto_blocked:r==="all"?void 0:r,page:1}}),{},{preserveScroll:!0,preserveState:!0})},e[7]=w):w=e[7];const ce=w;let V;e[8]===Symbol.for("react.memo_cache_sentinel")?(V=function(r){i.get(a.index.url({mergeQuery:{date_from:r.target.value||void 0,page:1}}),{},{preserveScroll:!0,preserveState:!0})},e[8]=V):V=e[8];const fe=V;let T;e[9]===Symbol.for("react.memo_cache_sentinel")?(T=function(r){i.get(a.index.url({mergeQuery:{date_to:r.target.value||void 0,page:1}}),{},{preserveScroll:!0,preserveState:!0})},e[9]=T):T=e[9];const pe=T;let D;e[10]===Symbol.for("react.memo_cache_sentinel")?(D=function(){confirm("Are you sure you want to clean up old rate limit logs (older than 30 days)?")&&i.delete(a.cleanup().url,{preserveScroll:!0})},e[10]=D):D=e[10];const ue=D;let A;e[11]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(he,{title:"Rate Limit Monitoring"}),e[11]=A):A=e[11];let P;e[12]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-semibold",children:"Rate Limit Monitoring"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Track and monitor rate limit violations"})]}),e[12]=P):P=e[12];let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[P,t.jsxs(oe,{variant:"outline",onClick:ue,children:[t.jsx(ye,{className:"mr-2 h-4 w-4"}),"Cleanup Old Logs"]})]}),e[13]=k):k=e[13];let n,m;e[14]!==v?(n=t.jsx(Se,{statistics:v}),m=t.jsx(ve,{statistics:v}),e[14]=v,e[15]=n,e[16]=m):(n=e[15],m=e[16]);const G=s.search??"";let c;e[17]!==G?(c=t.jsx(te,{name:"search",defaultValue:G,placeholder:"Search IP, endpoint, or user...",className:"flex-1 min-w-0"}),e[17]=G,e[18]=c):c=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(oe,{type:"submit",variant:"secondary",children:"Search"}),e[19]=L):L=e[19];let f;e[20]!==z||e[21]!==c?(f=t.jsx("div",{className:"flex flex-col items-stretch gap-2 sm:flex-row sm:items-center",children:t.jsxs("form",{onSubmit:z,className:"flex w-full items-center gap-2 sm:w-auto flex-1",children:[c,L]})}),e[20]=z,e[21]=c,e[22]=f):f=e[22];let Q;e[23]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),e[23]=Q):Q=e[23];const J=s.severity??"all";let R;e[24]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(re,{className:"w-[120px]",children:t.jsx(le,{})}),e[24]=R):R=e[24];let B;e[25]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs(se,{children:[t.jsx(l,{value:"all",children:"All"}),t.jsx(l,{value:"critical",children:"Critical"}),t.jsx(l,{value:"warning",children:"Warning"}),t.jsx(l,{value:"info",children:"Info"})]}),e[25]=B):B=e[25];let p;e[26]!==J?(p=t.jsxs("div",{className:"flex items-center gap-2",children:[Q,t.jsxs(ae,{defaultValue:J,onValueChange:me,children:[R,B]})]}),e[26]=J,e[27]=p):p=e[27];let F;e[28]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto-Blocked:"}),e[28]=F):F=e[28];const K=s.auto_blocked??"all";let I;e[29]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(re,{className:"w-[120px]",children:t.jsx(le,{})}),e[29]=I):I=e[29];let M;e[30]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs(se,{children:[t.jsx(l,{value:"all",children:"All"}),t.jsx(l,{value:"true",children:"Yes"}),t.jsx(l,{value:"false",children:"No"})]}),e[30]=M):M=e[30];let u;e[31]!==K?(u=t.jsxs("div",{className:"flex items-center gap-2",children:[F,t.jsxs(ae,{defaultValue:K,onValueChange:ce,children:[I,M]})]}),e[31]=K,e[32]=u):u=e[32];let E;e[33]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("span",{className:"text-sm text-muted-foreground",children:"From:"}),e[33]=E):E=e[33];const U=s.date_from??"";let d;e[34]!==U?(d=t.jsxs("div",{className:"flex items-center gap-2",children:[E,t.jsx(te,{type:"date",defaultValue:U,onChange:fe,className:"w-[150px]"})]}),e[34]=U,e[35]=d):d=e[35];let H;e[36]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("span",{className:"text-sm text-muted-foreground",children:"To:"}),e[36]=H):H=e[36];const X=s.date_to??"";let x;e[37]!==X?(x=t.jsxs("div",{className:"flex items-center gap-2",children:[H,t.jsx(te,{type:"date",defaultValue:X,onChange:pe,className:"w-[150px]"})]}),e[37]=X,e[38]=x):x=e[38];let O;e[39]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Per page"}),e[39]=O):O=e[39];const Z=String(s.per_page??o.per_page??25);let W;e[40]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(re,{className:"w-[100px]",children:t.jsx(le,{})}),e[40]=W):W=e[40];let Y;e[41]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(se,{children:[t.jsx(l,{value:"10",children:"10"}),t.jsx(l,{value:"25",children:"25"}),t.jsx(l,{value:"50",children:"50"}),t.jsx(l,{value:"100",children:"100"})]}),e[41]=Y):Y=e[41];let h;e[42]!==Z?(h=t.jsxs("div",{className:"flex items-center gap-2 sm:ml-auto",children:[O,t.jsxs(ae,{defaultValue:Z,onValueChange:ne,children:[W,Y]})]}),e[42]=Z,e[43]=h):h=e[43];let g;e[44]!==p||e[45]!==u||e[46]!==d||e[47]!==x||e[48]!==h?(g=t.jsxs("div",{className:"flex flex-col items-stretch gap-2 sm:flex-row sm:items-center sm:flex-wrap",children:[p,u,d,x,h]}),e[44]=p,e[45]=u,e[46]=d,e[47]=x,e[48]=h,e[49]=g):g=e[49];let j;e[50]!==f||e[51]!==g?(j=t.jsxs("div",{className:"flex flex-col gap-3",children:[f,g]}),e[50]=f,e[51]=g,e[52]=j):j=e[52];let _;e[53]!==o?(_=t.jsx(_e,{columns:je,data:o}),e[53]=o,e[54]=_):_=e[54];let $;return e[55]!==n||e[56]!==m||e[57]!==j||e[58]!==_?($=t.jsxs(ge,{breadcrumbs:be,children:[A,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[k,n,m,j,_]})]}),e[55]=n,e[56]=m,e[57]=j,e[58]=_,e[59]=$):$=e[59],$}export{_t as default};
