import{j as s,r as v,c as K,b as N,L as S}from"./app-BuL0pVBZ.js";import{B as x}from"./badge-8L__yrnq.js";import{B as A}from"./button-CYInUA14.js";import{m as j}from"./index-BDUTvIu5.js";import{d as g}from"./dayjs.min-XX-0z4Zn.js";import{r as _}from"./relativeTime-CPppplC_.js";import{E as B}from"./eye-DtAsDT5Z.js";import{A as P,a as D,b as E}from"./arrow-up-ByAyNCsC.js";/* empty css            */import"./index-7uOuBa2-.js";import"./utils-D0Zg16Wk.js";import"./index-CMWG4mbA.js";import"./createLucideIcon-DK5M6DL3.js";function f(r){const e=K.c(14),{label:m,columnKey:o}=r,p=N().url??"";let t,a,c;if(e[0]!==o||e[1]!==p){const u=new URLSearchParams(p.split("?")[1]??""),y=u.get("sort")??"",d=(u.get("direction")??"desc").toLowerCase(),w=u.get("per_page")??"",h=y===o,b=h&&d==="asc"?"desc":"asc";t=P,h&&(t=d==="asc"?D:E),a=S,c=j.index.url({mergeQuery:{sort:o,direction:b,page:1,per_page:w||void 0}}),e[0]=o,e[1]=p,e[2]=t,e[3]=a,e[4]=c}else t=e[2],a=e[3],c=e[4];let n;e[5]!==m?(n=s.jsx("span",{children:m}),e[5]=m,e[6]=n):n=e[6];let i;e[7]!==t?(i=s.jsx(t,{className:"h-3.5 w-3.5"}),e[7]=t,e[8]=i):i=e[8];let l;return e[9]!==a||e[10]!==c||e[11]!==n||e[12]!==i?(l=s.jsxs(a,{href:c,className:"inline-flex items-center gap-1",children:[n,i]}),e[9]=a,e[10]=c,e[11]=n,e[12]=i,e[13]=l):l=e[13],l}const G=[{accessorKey:"subject",header:()=>s.jsx(f,{label:"Subject",columnKey:"subject"})},{accessorKey:"recipients",header:"Recipients",cell:({row:r})=>{const e=r.original.recipients;return e.length===1?s.jsx("span",{className:"text-sm",children:e[0]}):s.jsxs("span",{className:"text-sm",children:[e[0],s.jsxs(x,{variant:"secondary",className:"ml-2",children:["+",e.length-1," more"]})]})}},{accessorKey:"status",header:"Status",cell:({row:r})=>{const e=r.original.status;return s.jsx(x,{variant:e==="sent"?"default":"destructive",children:e})}},{accessorKey:"user.name",header:"Sent By",cell:({row:r})=>s.jsx("span",{children:r.original.user?.name??"-"})},{accessorKey:"created_at",header:()=>s.jsx(f,{label:"Sent At",columnKey:"created_at"}),cell:({row:r})=>(g.extend(_),s.jsx("span",{children:g(r.original.created_at).fromNow()}))},{id:"actions",cell:({row:r})=>{const e=r.original;return s.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>v.visit(j.show(e.id)),children:[s.jsx(B,{className:"h-4 w-4 mr-2"}),"View"]})}}];export{G as columns};
