import{c as z,a as D,j as t,r as J,H as K}from"./app-BuL0pVBZ.js";import{h as M,A as P,C as X}from"./app-layout-BWET_gkI.js";import{B as q}from"./button-CYInUA14.js";import{c as O,d as T,C as E,a as W,b as G}from"./card-DpIz3S2U.js";import{B as Q}from"./badge-8L__yrnq.js";import{C as B,R as U}from"./refresh-cw-Ds4VdZoP.js";import{C as V}from"./clock-CuIKVmd9.js";import{C as Y}from"./circle-x-CUcf4agt.js";/* empty css            */import"./dialog-Cufq_Hwj.js";import"./index-CGON9Ul4.js";import"./index-7uOuBa2-.js";import"./utils-D0Zg16Wk.js";import"./index-CTRF259D.js";import"./index-ChPVmC4z.js";import"./createLucideIcon-DK5M6DL3.js";import"./index-DA_4OTiw.js";import"./index-CMWG4mbA.js";import"./loader-circle-sAi0isxQ.js";import"./triangle-alert-BoZ0EEr2.js";import"./index-G4su6LET.js";import"./index-D_6DkZ-z.js";import"./index-SgXJPSr3.js";import"./dropdown-menu-D5feTYmh.js";import"./app-logo-icon-DpMaauQJ.js";import"./index-ktf0LBql.js";import"./index-Dl971_eZ.js";import"./index-e2wK645T.js";import"./index-BoBIKhFC.js";import"./index-CHMuBPDS.js";import"./index-YRM6KelB.js";import"./index-DD7xzozJ.js";import"./index-5DEnLWxd.js";import"./index-Dxe8xGNM.js";import"./index-BDUTvIu5.js";import"./index-CTMqsj9F.js";import"./index-Berc4nBE.js";import"./shield-aHDpR4H3.js";import"./mail-BCti2wNx.js";const Z=[{title:"Health Check",href:M.index().url}];function $(s){switch(s){case"ok":return t.jsx(X,{className:"h-5 w-5 text-green-500"});case"warning":return t.jsx(B,{className:"h-5 w-5 text-yellow-500"});case"failed":case"crashed":return t.jsx(Y,{className:"h-5 w-5 text-red-500"});case"skipped":return t.jsx(V,{className:"h-5 w-5 text-gray-400"});default:return t.jsx(B,{className:"h-5 w-5 text-gray-400"})}}function I(s){const e={ok:"default",warning:"secondary",failed:"destructive",crashed:"destructive",skipped:"outline"},a={ok:"OK",warning:"Warning",failed:"Failed",crashed:"Crashed",skipped:"Skipped"};return t.jsx(Q,{variant:e[s],className:"capitalize",children:a[s]})}function ee(s){return!s||s.length===0?"skipped":s.some(r=>r.status==="crashed")?"crashed":s.some(r=>r.status==="failed")?"failed":s.some(r=>r.status==="warning")?"warning":"ok"}function Je(s){const e=z.c(47),{checkResults:a,finishedAt:k}=s,[r,A]=D.useState(!1);let l,c,o,m,d,h,f,i,p,n;if(e[0]!==a||e[1]!==k||e[2]!==r){const F=ee(a);let b;e[13]===Symbol.for("react.memo_cache_sentinel")?(b=function(){A(!0),J.post(M.run().url,{},{preserveScroll:!0,onFinish:()=>A(!1)})},e[13]=b):b=e[13];const L=b;o=P,p=Z,e[14]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(K,{title:"Health Check"}),e[14]=n):n=e[14],f="flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4";let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-semibold",children:"System Health Check"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor the health status of your application"})]}),e[15]=v):v=e[15];const R=`mr-2 h-4 w-4 ${r?"animate-spin":""}`;let N;e[16]!==R?(N=t.jsx(U,{className:R}),e[16]=R,e[17]=N):N=e[17];const _=r?"Running...":"Run Checks";e[18]!==r||e[19]!==N||e[20]!==_?(i=t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[v,t.jsxs(q,{onClick:L,disabled:r,children:[N,_]})]}),e[18]=r,e[19]=N,e[20]=_,e[21]=i):i=e[21],c=O,l=E,m="flex items-center justify-between";let w;e[22]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(W,{children:"Overall Status"}),e[22]=w):w=e[22];const H=k?`Last checked: ${k}`:"No checks have been run yet";let S;e[23]!==H?(S=t.jsxs("div",{children:[w,t.jsx(G,{children:H})]}),e[23]=H,e[24]=S):S=e[24],d=t.jsxs("div",{className:"flex items-center gap-3",children:[$(F),S]}),h=I(F),e[0]=a,e[1]=k,e[2]=r,e[3]=l,e[4]=c,e[5]=o,e[6]=m,e[7]=d,e[8]=h,e[9]=f,e[10]=i,e[11]=p,e[12]=n}else l=e[3],c=e[4],o=e[5],m=e[6],d=e[7],h=e[8],f=e[9],i=e[10],p=e[11],n=e[12];let x;e[25]!==m||e[26]!==d||e[27]!==h?(x=t.jsxs("div",{className:m,children:[d,h]}),e[25]=m,e[26]=d,e[27]=h,e[28]=x):x=e[28];let u;e[29]!==l||e[30]!==x?(u=t.jsx(l,{children:x}),e[29]=l,e[30]=x,e[31]=u):u=e[31];let j;e[32]!==c||e[33]!==u?(j=t.jsx(c,{children:u}),e[32]=c,e[33]=u,e[34]=j):j=e[34];let g;e[35]!==a?(g=!a||a.length===0?t.jsx(O,{children:t.jsxs(T,{className:"flex flex-col items-center justify-center py-12",children:[t.jsx(B,{className:"h-12 w-12 text-muted-foreground mb-4"}),t.jsxs("p",{className:"text-muted-foreground text-center",children:["No health checks have been run yet.",t.jsx("br",{}),'Click the "Run Checks" button to start.']})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(te)}),e[35]=a,e[36]=g):g=e[36];let C;e[37]!==j||e[38]!==g||e[39]!==f||e[40]!==i?(C=t.jsxs("div",{className:f,children:[i,j,g]}),e[37]=j,e[38]=g,e[39]=f,e[40]=i,e[41]=C):C=e[41];let y;return e[42]!==o||e[43]!==C||e[44]!==p||e[45]!==n?(y=t.jsxs(o,{breadcrumbs:p,children:[n,C]}),e[42]=o,e[43]=C,e[44]=p,e[45]=n,e[46]=y):y=e[46],y}function te(s,e){return t.jsxs(O,{children:[t.jsx(E,{children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[$(s.status),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx(W,{className:"text-base truncate",children:s.label})})]}),I(s.status)]})}),(s.shortSummary||s.notificationMessage)&&t.jsxs(T,{className:"pt-0",children:[s.shortSummary&&t.jsx("p",{className:"text-sm text-muted-foreground",children:s.shortSummary}),s.notificationMessage&&s.status!=="ok"&&t.jsx("p",{className:"text-sm text-destructive mt-2",children:s.notificationMessage}),s.meta&&Object.keys(s.meta).length>0&&t.jsx("div",{className:"mt-3 space-y-1",children:Object.entries(s.meta).map(se)})]})]},e)}function se(s){const[e,a]=s;return t.jsxs("div",{className:"text-xs",children:[t.jsxs("span",{className:"font-medium text-muted-foreground",children:[e,":"]})," ",t.jsx("span",{className:"text-foreground",children:typeof a=="object"?JSON.stringify(a):String(a)})]},e)}export{Je as default};
