import{c as ne,b as me,r as j,j as t,H as ue}from"./app-C_bXf2sr.js";import{A as pe}from"./app-layout-DP1OLCGq.js";import{D as de}from"./data-table-DOXaaOBV.js";import{columns as fe}from"./column-BBM12Sz5.js";import{B as ie}from"./button-DHoFMfdx.js";import{I as he}from"./input-Bma1fmuv.js";import{S as te,a as re,b as a,c as le,d as ae}from"./select-Ek57nmN1.js";import{s as _}from"./index-Dl971_eZ.js";/* empty css            */import"./dialog-DH-eE5NM.js";import"./index-Dm0sKS8Q.js";import"./index-tePfFT3D.js";import"./utils-D0Zg16Wk.js";import"./index-RfGvqZ94.js";import"./index-BRWa5CH2.js";import"./createLucideIcon-BqDcP8VQ.js";import"./index-DA_4OTiw.js";import"./index-CMWG4mbA.js";import"./loader-circle-Bq3Y2mct.js";import"./triangle-alert-CwP_M2HX.js";import"./index-s7Ef9wOL.js";import"./index-dN7Orpqu.js";import"./index-C5AjprLp.js";import"./dropdown-menu-BQ0HfTmv.js";import"./app-logo-icon-CbjHgVTb.js";import"./index-ktf0LBql.js";import"./index-e2wK645T.js";import"./index-BoBIKhFC.js";import"./index-CHMuBPDS.js";import"./index-YRM6KelB.js";import"./index-DD7xzozJ.js";import"./index-5DEnLWxd.js";import"./index-Dxe8xGNM.js";import"./index-BDUTvIu5.js";import"./index-CTMqsj9F.js";import"./index-Berc4nBE.js";import"./shield-CltSR6qu.js";import"./mail-CThgqVct.js";import"./index-DF-2G2Mf.js";import"./check-DvKWxHKb.js";const xe=[{title:"Sessions",href:_.index().url}];function as(v){const e=ne.c(73),{sessions:r,filters:z,users:G}=v;let b;e[0]!==z?(b=z??{},e[0]=z,e[1]=b):b=e[1];const s=b,J=me().props?.auth?.user?.id,y=s.user_id&&s.user_id!=="all"?Number(s.user_id):void 0;let N;e[2]!==s.per_page||e[3]!==s.status||e[4]!==s.user_id||e[5]!==r?(N=function(l){l.preventDefault();const S=new FormData(l.currentTarget),ce=String(S.get("search")??"");j.get(_.index.url({mergeQuery:{search:ce,page:1,per_page:s.per_page??r.per_page,user_id:s.user_id??void 0,status:s.status??void 0}}),{},{preserveScroll:!0,preserveState:!0})},e[2]=s.per_page,e[3]=s.status,e[4]=s.user_id,e[5]=r,e[6]=N):N=e[6];const K=N;let w;e[7]!==s.search||e[8]!==s.status||e[9]!==s.user_id?(w=function(l){const S=Number(l)||10;j.get(_.index.url({mergeQuery:{per_page:S,page:1,search:s.search??void 0,user_id:s.user_id??void 0,status:s.status??void 0}}),{},{preserveScroll:!0,preserveState:!0})},e[7]=s.search,e[8]=s.status,e[9]=s.user_id,e[10]=w):w=e[10];const M=w;let C;e[11]!==s.per_page||e[12]!==s.search||e[13]!==s.status||e[14]!==r?(C=function(l){const S=l==="all"?"all":String(Number(l)||"");j.get(_.index.url({mergeQuery:{user_id:S,page:1,search:s.search??void 0,per_page:s.per_page??r.per_page,status:s.status??void 0}}),{},{preserveScroll:!0,preserveState:!0})},e[11]=s.per_page,e[12]=s.search,e[13]=s.status,e[14]=r,e[15]=C):C=e[15];const O=C;let A;e[16]!==s.per_page||e[17]!==s.search||e[18]!==s.user_id||e[19]!==r?(A=function(l){j.get(_.index.url({mergeQuery:{status:l||void 0,page:1,search:s.search??void 0,per_page:s.per_page??r.per_page,user_id:s.user_id??void 0}}),{},{preserveScroll:!0,preserveState:!0})},e[16]=s.per_page,e[17]=s.search,e[18]=s.user_id,e[19]=r,e[20]=A):A=e[20];const W=A;let P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=function(l){j.delete(_.destroyUserSessions.url(l),{preserveScroll:!0,preserveState:!0})},e[21]=P):P=e[21];const oe=P;let U;e[22]!==J?(U=fe(J),e[22]=J,e[23]=U):U=e[23];const X=U;let V;e[24]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(ue,{title:"Sessions"}),e[24]=V):V=e[24];let I;e[25]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("h1",{className:"text-lg font-semibold",children:"Sessions"}),e[25]=I):I=e[25];let k;e[26]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("span",{className:"text-sm text-muted-foreground",children:"User"}),e[26]=k):k=e[26];const Y=String(s.user_id??"all");let D;e[27]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(te,{className:"w-[200px]",children:t.jsx(re,{placeholder:"All users"})}),e[27]=D):D=e[27];let F;e[28]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(a,{value:"all",children:"All"}),e[28]=F):F=e[28];let i;e[29]!==G?(i=G.map(ge),e[29]=G,e[30]=i):i=e[30];let o;e[31]!==i?(o=t.jsxs(le,{children:[F,i]}),e[31]=i,e[32]=o):o=e[32];let c;e[33]!==O||e[34]!==Y||e[35]!==o?(c=t.jsxs("div",{className:"flex items-center gap-2",children:[k,t.jsxs(ae,{defaultValue:Y,onValueChange:O,children:[D,o]})]}),e[33]=O,e[34]=Y,e[35]=o,e[36]=c):c=e[36];let Q;e[37]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),e[37]=Q):Q=e[37];const Z=String(s.status??"");let R;e[38]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(te,{className:"w-[160px]",children:t.jsx(re,{placeholder:"All"})}),e[38]=R):R=e[38];let B;e[39]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs(le,{children:[t.jsx(a,{value:"all",children:"All"}),t.jsx(a,{value:"active",children:"Active"}),t.jsx(a,{value:"revoked",children:"Revoked"})]}),e[39]=B):B=e[39];let n;e[40]!==W||e[41]!==Z?(n=t.jsxs("div",{className:"flex items-center gap-2",children:[Q,t.jsxs(ae,{defaultValue:Z,onValueChange:W,children:[R,B]})]}),e[40]=W,e[41]=Z,e[42]=n):n=e[42];let m;e[43]!==y?(m=y?t.jsx(ie,{className:"w-full sm:w-auto",variant:"destructive",onClick:()=>oe(y),children:"Revoke all sessions for this user"}):null,e[43]=y,e[44]=m):m=e[44];let u;e[45]!==c||e[46]!==n||e[47]!==m?(u=t.jsxs("div",{className:"flex flex-col items-stretch gap-2 sm:flex-row sm:items-center sm:justify-between",children:[c,n,m]}),e[45]=c,e[46]=n,e[47]=m,e[48]=u):u=e[48];const ee=s.search??"";let p;e[49]!==ee?(p=t.jsx(he,{name:"search",defaultValue:ee,placeholder:"Cari IP/Browser/Device...",className:"flex-1 min-w-0"}),e[49]=ee,e[50]=p):p=e[50];let T;e[51]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(ie,{type:"submit",variant:"secondary",children:"Search"}),e[51]=T):T=e[51];let d;e[52]!==K||e[53]!==p?(d=t.jsxs("form",{onSubmit:K,className:"flex w-full items-center gap-2 sm:w-auto",children:[p,T]}),e[52]=K,e[53]=p,e[54]=d):d=e[54];let E;e[55]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Per page"}),e[55]=E):E=e[55];const se=String(s.per_page??r.per_page??10);let H;e[56]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(te,{className:"w-[100px]",children:t.jsx(re,{})}),e[56]=H):H=e[56];let $;e[57]===Symbol.for("react.memo_cache_sentinel")?($=t.jsxs(le,{children:[t.jsx(a,{value:"10",children:"10"}),t.jsx(a,{value:"25",children:"25"}),t.jsx(a,{value:"50",children:"50"}),t.jsx(a,{value:"100",children:"100"})]}),e[57]=$):$=e[57];let f;e[58]!==M||e[59]!==se?(f=t.jsxs("div",{className:"flex items-center gap-2",children:[E,t.jsxs(ae,{defaultValue:se,onValueChange:M,children:[H,$]})]}),e[58]=M,e[59]=se,e[60]=f):f=e[60];let h;e[61]!==d||e[62]!==f?(h=t.jsxs("div",{className:"flex flex-col items-stretch gap-2 sm:flex-row sm:items-center sm:justify-between",children:[d,f]}),e[61]=d,e[62]=f,e[63]=h):h=e[63];let x;e[64]!==u||e[65]!==h?(x=t.jsxs("div",{className:"flex flex-col gap-3",children:[I,u,h]}),e[64]=u,e[65]=h,e[66]=x):x=e[66];let g;e[67]!==X||e[68]!==r?(g=t.jsx(de,{columns:X,data:r}),e[67]=X,e[68]=r,e[69]=g):g=e[69];let L;return e[70]!==x||e[71]!==g?(L=t.jsxs(pe,{breadcrumbs:xe,children:[V,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[x,g]})]}),e[70]=x,e[71]=g,e[72]=L):L=e[72],L}function ge(v){return t.jsx(a,{value:String(v.id),children:v.name},v.id)}export{as as default};
