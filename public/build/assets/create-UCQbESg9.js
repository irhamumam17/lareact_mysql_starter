import{c as Y,u as Z,a as ee,j as t,H as te}from"./app-BuL0pVBZ.js";import{A as se}from"./app-layout-BWET_gkI.js";import{B as le}from"./button-CYInUA14.js";import{I as K}from"./input-DTP9jYLr.js";import{d as ie,S as re,a as ae,c as oe,b as O}from"./select-DVD9XoAa.js";import{n as P}from"./index-Bk4CxLKB.js";import{T as ce}from"./textarea-CzWVXChn.js";import{C as me}from"./checkbox-DDuTllUw.js";/* empty css            */import"./dialog-Cufq_Hwj.js";import"./index-CGON9Ul4.js";import"./index-7uOuBa2-.js";import"./utils-D0Zg16Wk.js";import"./index-CTRF259D.js";import"./index-ChPVmC4z.js";import"./createLucideIcon-DK5M6DL3.js";import"./index-DA_4OTiw.js";import"./index-CMWG4mbA.js";import"./loader-circle-sAi0isxQ.js";import"./triangle-alert-BoZ0EEr2.js";import"./index-G4su6LET.js";import"./index-D_6DkZ-z.js";import"./index-SgXJPSr3.js";import"./dropdown-menu-D5feTYmh.js";import"./app-logo-icon-DpMaauQJ.js";import"./index-ktf0LBql.js";import"./index-Dl971_eZ.js";import"./index-e2wK645T.js";import"./index-BoBIKhFC.js";import"./index-CHMuBPDS.js";import"./index-YRM6KelB.js";import"./index-DD7xzozJ.js";import"./index-5DEnLWxd.js";import"./index-Dxe8xGNM.js";import"./index-BDUTvIu5.js";import"./index-CTMqsj9F.js";import"./index-Berc4nBE.js";import"./shield-aHDpR4H3.js";import"./mail-BCti2wNx.js";import"./index-CvbAwHMG.js";import"./check-z6KLQ33W.js";const ne=[{title:"Send Notification",href:P.create().url}];function Ze(Q){const e=Y.c(74),{users:L}=Q;let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C={target:"all",user_ids:[],title:"",body:"",action_url:""},e[0]=C):C=e[0];const{data:s,setData:i,post:M,processing:F,errors:l}=Z(C);let T;e[1]!==s.target||e[2]!==i?(T=()=>{s.target==="all"&&i("user_ids",[])},e[1]=s.target,e[2]=i,e[3]=T):T=e[3];let k;e[4]!==s.target?(k=[s.target],e[4]=s.target,e[5]=k):k=e[5],ee.useEffect(T,k);let w;e[6]!==M?(w=function(J){J.preventDefault(),M(P.store.url())},e[6]=M,e[7]=w):w=e[7];const U=w;let A;e[8]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(te,{title:"Send Notification"}),e[8]=A):A=e[8];let E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("h1",{className:"text-lg font-semibold",children:"Send Notification"}),e[9]=E):E=e[9];let B;e[10]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Target"}),e[10]=B):B=e[10];let a;e[11]!==i?(a=r=>i("target",r),e[11]=i,e[12]=a):a=e[12];let I;e[13]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(re,{className:"w-[200px]",children:t.jsx(ae,{})}),e[13]=I):I=e[13];let R;e[14]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsxs(oe,{children:[t.jsx(O,{value:"all",children:"All users"}),t.jsx(O,{value:"users",children:"Specific users"})]}),e[14]=R):R=e[14];let o;e[15]!==s.target||e[16]!==a?(o=t.jsxs(ie,{name:"target",defaultValue:"all",value:s.target,onValueChange:a,children:[I,R]}),e[15]=s.target,e[16]=a,e[17]=o):o=e[17];let c;e[18]!==l.target?(c=l.target&&t.jsx("p",{className:"text-destructive text-sm",children:l.target}),e[18]=l.target,e[19]=c):c=e[19];let m;e[20]!==o||e[21]!==c?(m=t.jsxs("div",{className:"flex items-center gap-2",children:[B,o,c]}),e[20]=o,e[21]=c,e[22]=m):m=e[22];let n;e[23]!==s.target||e[24]!==s.user_ids||e[25]!==l.user_ids||e[26]!==i||e[27]!==L?(n=s.target==="users"&&t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"mb-2 text-sm text-muted-foreground",children:"Choose users"}),t.jsx("div",{className:"grid max-h-56 grid-cols-1 gap-2 overflow-y-auto sm:grid-cols-2",children:L.map(r=>{const J=s.user_ids.includes(r.id);return t.jsxs("label",{className:"flex items-center gap-2 rounded-md border p-2",children:[t.jsx(me,{checked:J,onCheckedChange:W=>{i("user_ids",!!W?[...s.user_ids,r.id]:s.user_ids.filter(X=>X!==r.id))}}),t.jsxs("span",{className:"text-sm",children:[r.name," ",t.jsxs("span",{className:"text-muted-foreground",children:["(",r.email,")"]})]})]},r.id)})}),l.user_ids&&t.jsx("p",{className:"mt-1 text-destructive text-sm",children:l.user_ids})]}),e[23]=s.target,e[24]=s.user_ids,e[25]=l.user_ids,e[26]=i,e[27]=L,e[28]=n):n=e[28];let d;e[29]!==m||e[30]!==n?(d=t.jsxs("div",{className:"flex flex-col items-stretch gap-2 sm:flex-row sm:items-start sm:gap-6",children:[m,n]}),e[29]=m,e[30]=n,e[31]=d):d=e[31];let V;e[32]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("label",{className:"text-sm",children:"Title"}),e[32]=V):V=e[32];const $=s.title??"";let f;e[33]!==i?(f=r=>i("title",r.target.value),e[33]=i,e[34]=f):f=e[34];let p;e[35]!==$||e[36]!==f?(p=t.jsx(K,{name:"title",placeholder:"Title",required:!0,value:$,onChange:f}),e[35]=$,e[36]=f,e[37]=p):p=e[37];let u;e[38]!==l.title?(u=l.title&&t.jsx("p",{className:"text-destructive text-sm",children:l.title}),e[38]=l.title,e[39]=u):u=e[39];let x;e[40]!==p||e[41]!==u?(x=t.jsxs("div",{className:"grid gap-2",children:[V,p,u]}),e[40]=p,e[41]=u,e[42]=x):x=e[42];let q;e[43]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("label",{className:"text-sm",children:"Message"}),e[43]=q):q=e[43];const z=s.body??"";let h;e[44]!==i?(h=r=>i("body",r.target.value),e[44]=i,e[45]=h):h=e[45];let g;e[46]!==z||e[47]!==h?(g=t.jsx(ce,{name:"body",placeholder:"Message...",required:!0,value:z,onChange:h}),e[46]=z,e[47]=h,e[48]=g):g=e[48];let j;e[49]!==l.body?(j=l.body&&t.jsx("p",{className:"text-destructive text-sm",children:l.body}),e[49]=l.body,e[50]=j):j=e[50];let _;e[51]!==g||e[52]!==j?(_=t.jsxs("div",{className:"grid gap-2",children:[q,g,j]}),e[51]=g,e[52]=j,e[53]=_):_=e[53];let D;e[54]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("label",{className:"text-sm",children:"Action URL (optional)"}),e[54]=D):D=e[54];const G=s.action_url??"";let b;e[55]!==i?(b=r=>i("action_url",r.target.value),e[55]=i,e[56]=b):b=e[56];let N;e[57]!==G||e[58]!==b?(N=t.jsx(K,{name:"action_url",placeholder:"/users or https://...",value:G,onChange:b}),e[57]=G,e[58]=b,e[59]=N):N=e[59];let v;e[60]!==l.action_url?(v=l.action_url&&t.jsx("p",{className:"text-destructive text-sm",children:l.action_url}),e[60]=l.action_url,e[61]=v):v=e[61];let y;e[62]!==N||e[63]!==v?(y=t.jsxs("div",{className:"grid gap-2",children:[D,N,v]}),e[62]=N,e[63]=v,e[64]=y):y=e[64];let S;e[65]!==F?(S=t.jsx("div",{className:"flex justify-end",children:t.jsx(le,{type:"submit",disabled:F,children:"Send"})}),e[65]=F,e[66]=S):S=e[66];let H;return e[67]!==U||e[68]!==d||e[69]!==x||e[70]!==_||e[71]!==y||e[72]!==S?(H=t.jsxs(se,{breadcrumbs:ne,children:[A,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[E,t.jsxs("form",{onSubmit:U,className:"flex w-full flex-col gap-4",children:[d,x,_,y,S]})]})]}),e[67]=U,e[68]=d,e[69]=x,e[70]=_,e[71]=y,e[72]=S,e[73]=H):H=e[73],H}export{Ze as default};
